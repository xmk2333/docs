---
slug: /setup-next-steps
title: Setup Next Steps
---

# 安装完成后的后续步骤

恭喜您！您已经成功安装了 Paper 服务器，并使其运行起来了。接下来，您可以开始配置和自定义您的服务器，使其更符合您的需求。

以下是一些您在安装 Paper 服务器后可以进行的后续步骤：

## 端口转发 (Port Forwarding)

如果您希望您的朋友或玩家能够通过互联网连接到您的服务器，您需要进行端口转发设置。端口转发是将您的路由器接收到的指定端口的网络流量转发到您的服务器主机。

**端口转发步骤 (通用步骤，不同路由器品牌和型号可能略有差异，请参考您的路由器说明书):**

1.  **登录您的路由器管理界面。**  通常在浏览器中输入 `192.168.1.1` 或 `192.168.0.1` (具体请参考您的路由器说明书)。
2.  **找到端口转发 (Port Forwarding) 设置。**  不同路由器品牌和型号的端口转发设置位置可能不同，通常在 "高级设置"、"NAT 设置" 或 "端口映射" 等菜单下。
3.  **添加端口转发规则。**  点击 "添加规则" 或 "新建端口转发" 按钮，填写以下信息：
    *   **服务名称/应用程序名称:**  可以自定义，例如 "Minecraft Server"。
    *   **端口范围/外部端口/起始端口:**  填写您的 Minecraft 服务器端口，默认为 `25565`。如果您的服务器使用了不同的端口，请填写您服务器实际使用的端口。
    *   **内部端口/本地端口:**  同样填写您的 Minecraft 服务器端口，默认为 `25565`。
    *   **协议:**  选择 `TCP` 和 `UDP` 或 `TCP/UDP`。Minecraft 服务器同时使用 TCP 和 UDP 协议。
    *   **内部 IP 地址/本地 IP 地址/服务器 IP 地址:**  填写您的服务器主机的局域网 IP 地址。您可以在服务器主机上使用 `ipconfig` (Windows) 或 `ifconfig` (Linux/macOS) 命令查看。
4.  **保存端口转发规则。**  点击 "保存" 或 "应用" 按钮，保存您添加的端口转发规则。
5.  **测试端口转发是否成功。**  您可以使用在线端口检测工具 (例如 [https://www.yougetsignal.com/tools/open-ports/](https://www.yougetsignal.com/tools/open-ports/))，输入您的公网 IP 地址和服务器端口 (默认为 `25565`)，检测端口是否开放。

**获取公网 IP 地址:**

您的公网 IP 地址是您连接互联网时，由您的 ISP (互联网服务提供商) 分配给您的 IP 地址。您可以在 [https://www.ipip.net/](https://www.ipip.net/) 或 [https://ipinfo.io/](https://ipinfo.io/) 等网站上查询您的公网 IP 地址。

**动态 IP 地址:**

如果您家里的网络是动态 IP 地址 (大多数家庭宽带都是动态 IP 地址)，您的公网 IP 地址可能会不定期发生变化。如果您的公网 IP 地址发生变化，您需要重新告知您的朋友或玩家新的 IP 地址才能连接到您的服务器。

**动态域名解析 (DDNS):**

为了解决动态 IP 地址的问题，您可以使用动态域名解析 (DDNS) 服务。DDNS 服务可以将您的动态 IP 地址绑定到一个固定的域名上。当您的 IP 地址发生变化时，DDNS 服务会自动更新域名解析记录，使域名始终指向您最新的 IP 地址。

您可以使用花生壳, 阿里云 DDNS, 腾讯云 DDNS 等 DDNS 服务。具体配置方法请参考 DDNS 服务提供商的文档。

## 配置防火墙

如果您的服务器主机启用了防火墙 (例如 Windows 防火墙, Linux Firewall)，您需要配置防火墙，允许 Minecraft 服务器的网络流量通过。

**Windows 防火墙配置步骤:**

1.  **打开 "Windows Defender 防火墙" 设置。**  在 "控制面板" 中找到 "Windows Defender 防火墙"，点击打开。
2.  **点击 "高级设置"。**  在 "Windows Defender 防火墙" 窗口中，点击左侧的 "高级设置"。
3.  **添加入站规则。**  在 "高级安全 Windows Defender 防火墙" 窗口中，点击左侧的 "入站规则"，然后点击右侧的 "新建规则..."。
4.  **选择 "端口" 规则类型。**  在 "新建入站规则向导" 窗口中，选择 "端口"，点击 "下一步"。
5.  **指定端口和协议。**  在 "协议和端口" 页面中，选择 "TCP" 和 "UDP"，并在 "特定本地端口" 中填写您的 Minecraft 服务器端口 (默认为 `25565`)，点击 "下一步"。
6.  **选择 "允许连接" 操作。**  在 "操作" 页面中，选择 "允许连接"，点击 "下一步"。
7.  **选择规则应用范围。**  在 "配置文件" 页面中，根据您的需求选择规则应用范围 (通常选择 "域", "专用", "公用" 都勾选)，点击 "下一步"。
8.  **命名规则并完成。**  在 "名称" 页面中，为规则命名 (例如 "Minecraft Server")，点击 "完成"。

**Linux Firewall (例如 firewalld, iptables) 配置步骤:**

Linux 防火墙配置方法因防火墙软件而异，以下以 `firewalld` 为例：

1.  **打开终端，使用 root 权限执行以下命令，允许 Minecraft 服务器端口通过防火墙:**

    ```bash
    sudo firewall-cmd --permanent --zone=public --add-port=25565/tcp
    sudo firewall-cmd --permanent --zone=public --add-port=25565/udp
    sudo firewall-cmd --reload
    ```

    请将 `25565` 替换为您服务器实际使用的端口。

2.  **检查防火墙规则是否生效:**

    ```bash
    sudo firewall-cmd --list-ports --zone=public
    ```

    如果输出结果中包含您添加的端口，则说明防火墙规则已生效。

## 邀请朋友加入

完成端口转发和防火墙配置后，您就可以邀请您的朋友加入您的 Paper 服务器了。

**邀请步骤:**

1.  **告知朋友服务器 IP 地址和端口。**  将您的公网 IP 地址 (或 DDNS 域名) 和服务器端口 (默认为 `25565`) 告知您的朋友。
2.  **朋友在 Minecraft 游戏中添加服务器。**  让您的朋友启动 Minecraft 游戏，点击 "多人游戏"，然后点击 "添加服务器"。
3.  **填写服务器信息。**  在 "编辑服务器信息" 页面中，填写服务器名称 (自定义) 和服务器地址 (您的公网 IP 地址或 DDNS 域名:服务器端口)，点击 "完成"。
4.  **加入服务器。**  在服务器列表中找到您添加的服务器，点击 "加入服务器"。

**如果朋友无法连接:**

*   **检查端口转发是否正确配置。**  请仔细检查您的路由器端口转发设置，确保端口范围、协议、内部 IP 地址等信息填写正确。
*   **检查防火墙是否允许端口通过。**  请检查您的服务器主机防火墙设置，确保已添加入站规则，允许 Minecraft 服务器端口的 TCP 和 UDP 流量通过。
*   **检查服务器是否正常运行。**  请检查您的 Paper 服务器是否正在运行，服务器控制台是否有错误信息。
*   **检查网络连接。**  请检查您的服务器主机和朋友的网络连接是否正常。

## 后续配置和优化

成功邀请朋友加入服务器后，您可以继续进行更深入的配置和优化，例如：

*   **配置服务器属性 (server.properties)。**  修改 `server.properties` 文件，配置服务器名称 (motd), 游戏模式, 难度, 最大玩家数量等基本属性。
*   **配置 Paper 配置文件 (paper.yml)。**  修改 `paper.yml` 文件，进行更详细的性能优化、游戏机制调整、反作弊功能配置等。
*   **安装插件 (plugins)。**  安装 Bukkit/Spigot 插件，扩展服务器的功能，例如权限管理, 经济系统, 聊天管理, PVP 竞技场, 小游戏等。
*   **优化服务器性能。**  参考 Paper 官方文档和社区资源，进行 JVM 参数优化、配置文件优化、插件优化等，提升服务器性能。
*   **学习更多 Paper 功能和特性。**  深入了解 Paper 的各种功能和特性，充分利用 Paper 提供的强大功能，打造更好的 Minecraft 服务器体验。

---

**祝您游戏愉快！**
