---
slug: /reference/configuration/configuration-files
title: 配置文件
description: Paper 服务器的配置文件及其作用说明。
---

# 配置文件

Paper 服务器使用多个配置文件来控制服务器的各种行为和功能。了解这些配置文件的作用和配置选项，可以帮助您更好地管理和优化您的 Paper 服务器。

Paper 主要使用以下配置文件：

*   **`paper.yml`**:  Paper 服务器的核心配置文件，包含了 Paper 独有的各种配置选项，例如性能优化、游戏机制调整、反作弊功能等。`paper.yml` 文件位于服务器根目录下。
*   **`bukkit.yml`**:  Bukkit API 的配置文件，包含了 Bukkit API 相关的配置选项，例如服务器 MOTD、玩家设置、世界设置等。`bukkit.yml` 文件位于服务器根目录下。
*   **`spigot.yml`**:  Spigot API 的配置文件，包含了 Spigot API 相关的配置选项，例如性能优化、实体追踪、世界设置等。`spigot.yml` 文件位于服务器根目录下。
*   **`server.properties`**:  Minecraft 原版服务器的配置文件，包含了 Minecraft 原版服务器的配置选项，例如服务器端口、游戏模式、最大玩家数量、RCON 设置等。`server.properties` 文件位于服务器根目录下。
*   **`config/paper-global.yml`**:  Paper 全局配置文件夹下的 `paper-global.yml` 文件，包含了更底层的全局配置选项，通常不需要修改，除非您对 Paper 的内部机制有深入了解。
*   **`config/paper-world-defaults.yml`**: Paper 全局配置文件夹下的 `paper-world-defaults.yml` 文件，包含了世界默认配置选项，用于设置新创建的世界的默认配置。
*   **`world/paper-world.yml`**:  世界文件夹下的 `paper-world.yml` 文件 (例如 `world/paper-world.yml`, `world_nether/paper-world.yml`, `world_the_end/paper-world.yml`)，包含了针对特定世界的配置选项，例如生物生成、方块生成、游戏规则等。

**配置文件加载顺序:**

Paper 服务器启动时，会按照以下顺序加载配置文件：

1.  `server.properties`
2.  `bukkit.yml`
3.  `spigot.yml`
4.  `paper.yml`
5.  `config/paper-global.yml`
6.  `config/paper-world-defaults.yml`
7.  `world/paper-world.yml` (针对每个世界)

**配置优先级:**

如果同一个配置项在多个配置文件中都进行了配置，则后加载的配置文件的优先级更高，会覆盖之前加载的配置文件的配置。例如，如果在 `bukkit.yml` 和 `paper.yml` 中都配置了 `max-tick-time` 选项，则 `paper.yml` 中的配置会生效，`bukkit.yml` 中的配置会被忽略。

**如何修改配置文件:**

您可以使用任何文本编辑器 (例如 Notepad++, VS Code, Sublime Text) 打开配置文件进行修改。修改配置文件后，需要重启服务器才能使配置生效。

**配置文件格式:**

Paper 的配置文件使用 YAML (YAML Ain't Markup Language) 格式编写。YAML 是一种人类友好的数据序列化格式，易于阅读和编写。YAML 格式使用缩进 (空格) 来表示层级关系，使用冒号 `:` 分隔键值对。

**YAML 格式注意事项:**

*   **缩进:**  YAML 格式严格依赖缩进，请使用空格进行缩进，不要使用 Tab 键。建议使用 2 个或 4 个空格进行缩进。
*   **键值对:**  YAML 使用 `key: value` 的形式表示键值对。键和值之间使用冒号 `:` 和一个空格分隔。
*   **列表:**  YAML 使用 `-` 开头的行表示列表项。
*   **注释:**  YAML 使用 `#` 开头的行表示注释。注释内容会被 YAML 解析器忽略。
*   **特殊字符:**  如果值包含特殊字符 (例如空格, 冒号, 引号等)，需要使用引号 (`"` 或 `'`) 将值括起来。

**配置文件示例 (`paper.yml`):**

```yaml
# Paper global configuration file
config:
  # 异步区块加载
  async-chunks:
    threads: 4 # 异步区块加载线程数
    queue-size: 512 # 异步区块加载队列大小
  # 反 X 射线
  anti-xray:
    enabled: true # 是否启用反 X 射线
    engine-mode: 2 # 反 X 射线引擎模式 (1: vanilla, 2: hidden)
    blocks: # 需要隐藏的方块列表
      - minecraft:diamond_ore
      - minecraft:deepslate_diamond_ore
  # ... 其他配置项 ...
```

**配置文件文档:**

Paper 官方文档提供了详细的配置文件参考，您可以参考以下页面了解每个配置文件的详细配置选项和说明：

*   **`paper.yml`**:  [全局配置文件参考](../reference/configuration/global-configuration.mdx)
*   **`bukkit.yml`**:  [Bukkit 配置文件参考](../reference/configuration/bukkit-configuration.mdx)
*   **`spigot.yml`**:  [Spigot 配置文件参考](../reference/configuration/spigot-configuration.mdx)
*   **`server.properties`**:  [Server.properties 配置文件参考](../reference/configuration/server-properties.mdx)
*   **`config/paper-world-defaults.yml` 和 `world/paper-world.yml`**:  [世界配置文件参考](../reference/configuration/world-configuration.mdx)

**在线配置编辑器 (实验性):**

Paper 官方正在开发在线配置编辑器，可以帮助您更方便地编辑和管理 Paper 配置文件。在线配置编辑器目前处于实验性阶段，功能可能不完善，但您可以尝试使用。请关注 PaperMC 官网或社区论坛获取更多关于在线配置编辑器的信息。

**注意事项:**

*   **备份配置文件。**  在修改配置文件之前，建议您备份原始配置文件，以防止配置错误导致服务器运行异常。
*   **仔细阅读配置项说明。**  在修改配置项之前，请仔细阅读 Paper 官方文档中关于该配置项的说明，了解配置项的作用和取值范围，避免配置错误。
*   **重启服务器生效。**  修改配置文件后，必须重启服务器才能使配置生效。
*   **谨慎修改 `config/paper-global.yml`。**  `config/paper-global.yml` 文件包含了更底层的全局配置选项，修改不当可能会导致服务器运行不稳定或出现严重问题。请谨慎修改此文件，除非您对 Paper 的内部机制有深入了解。

如果您在使用配置文件过程中遇到任何问题，请随时在 [PaperMC Discord](https://discord.gg/papermc) 的 `#paper-help` 频道中寻求帮助。 