---
slug: /faq
title: FAQ
description: 我们的社区经常提出的问题，由我们解答！
---

# 常见问题解答

## 哪些服务器类型可以从 Folia 中受益？
自然而然地将玩家分散开来的服务器类型，例如空岛或生存多人服务器 (SMP)，将从 Folia 中获益最多。服务器也应该有相当可观的玩家数量。

## Folia 在什么样的硬件上运行效果最佳？
理想情况下，至少 16 个**物理核心**（不是线程）。

## 如何最好地配置 Folia？
首先，建议预先生成世界，这样可以大大减少所需区块系统工作线程的数量。

以下是一个**非常粗略的**估计，基于 Folia 发布前在我们运行的测试服务器上进行的测试，该服务器的峰值玩家数量约为 330 人。因此，这并不精确，需要进一步调整 - 仅将其作为起点。

应该考虑机器上可用的总核心数。然后，为以下各项分配线程：
- netty IO：每 200-300 名玩家约 4 个
- 区块系统 IO 线程：每 200-300 名玩家约 3 个
- 如果预先生成，区块系统工作线程：每 200-300 名玩家约 2 个
- 如果未预先生成，则区块系统工作线程没有最佳猜测，因为在我们运行的测试服务器上，我们分配了 16 个线程，但在约 300 名玩家的情况下，区块生成仍然很慢。
- GC 设置：???? 但是，GC 设置**确实**分配了并发线程，你需要确切地知道有多少。这通常通过 `-XX:ConcGCThreads=n` 标志来实现。不要将此标志与 `-XX:ParallelGCThreads=n` 混淆，因为并行 GC 线程仅在应用程序被 GC 暂停时运行，因此不应考虑在内。

在完成所有这些分配之后，系统上剩余的核心直到 80% 分配率（分配的总线程数 < 可用 CPU 的 80%）可以分配给 tick 线程（在全局配置 `threaded-regions.threads` 下）。

你不应该分配超过 80% 核心的原因是，插件甚至服务器可能会使用你无法配置甚至预测的额外线程。

此外，以上所有内容都是基于玩家数量的粗略猜测，但线程分配很可能不是理想的，你需要根据最终看到的线程使用情况对其进行调整。

## Folia 禁用了哪些命令？
Folia 目前禁用了一些命令。 它们是：
- Bossbar 命令
- Clone 命令
- Data 命令
- Datapack
- Debug
- Function
- Item 命令
- Loot
- Reload
- Ride
- Schedule
- Scoreboard
- Tag
- Team
- TeamMsg
- Trigger
- WorldBorder
- Perf
- SaveAll
- Restart
